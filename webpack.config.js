/**
* !!! DO NOT EDIT THIS FILE DIRECTLY !!!
* ! This file has been generated automatically. See the config/*.js version of
* ! this file to make permanent modifications!
*/

"use strict";

require("source-map-support/register");

var _package = _interopRequireDefault(require("./package"));

var _webpack = _interopRequireDefault(require("webpack"));

var _cleanWebpackPlugin = _interopRequireDefault(require("clean-webpack-plugin"));

var _copyWebpackPlugin = _interopRequireDefault(require("copy-webpack-plugin"));

var _htmlWebpackPlugin = _interopRequireDefault(require("html-webpack-plugin"));

var _writeFileWebpackPlugin = _interopRequireDefault(require("write-file-webpack-plugin"));

var _parseGitignore = _interopRequireDefault(require("parse-gitignore"));

var _fs = require("fs");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require('dotenv').config();

const {
  NODE_ENV,
  HASHING_OUTPUT_LENGTH
} = process.env;
const DEV_ENV = NODE_ENV === 'development';
const paths = {};
paths.src = `${__dirname}/src`;
paths.build = `${__dirname}/build`;
paths.buildAssets = `${paths.build}/assets`;
paths.buildGitIgnore = `${paths.build}/.gitignore`;
paths.srcManifest = `${paths.src}/manifest.json`;
paths.components = `${paths.src}/components`;
paths.assets = `${paths.src}/assets`;
const assetExtensions = ['jpg', 'jpeg', 'png', `gif`, "eot", 'otf', 'svg', 'ttf', 'woff', 'woff2'];
const options = {};
options.mode = DEV_ENV ? 'development' : 'production';
options.entry = {
  background: `${paths.components}/background/index.js`,
  options: `${paths.components}/options/index.js`,
  popup: `${paths.components}/popup/index.js`
};
options.output = {
  path: paths.build,
  filename: '[name].packed.js'
};
options.module = {
  rules: [{
    test: /\.css$/,
    loader: 'style-loader!css-loader',
    exclude: /node_modules/
  }, {
    test: new RegExp(`\\.(${assetExtensions.join('|')})$`),
    loader: 'file-loader?name=[name].[ext]',
    exclude: /node_modules/
  }, {
    test: /\.html$/,
    loader: 'html-loader',
    exclude: /node_modules/
  }, {
    test: /\.js$/,
    loader: 'babel-loader?cacheDirectory',
    exclude: /node_modules/
  }]
};
options.plugins = [new _webpack.default.DefinePlugin({
  'process.env': {
    NODE_ENV: JSON.stringify(NODE_ENV),
    HASHING_OUTPUT_LENGTH: JSON.stringify(HASHING_OUTPUT_LENGTH)
  }
}), new _copyWebpackPlugin.default([{
  from: paths.srcManifest,
  transform: content => Buffer.from(JSON.stringify({
    name: `${DEV_ENV ? "DEV-" : ''}${_package.default.name}`,
    description: _package.default.description,
    version: _package.default.version,
    'content_security_policy': `script-src 'self'${DEV_ENV ? " 'unsafe-eval'" : ''}; object-src 'self'`,
    ...JSON.parse(content.toString())
  }))
}]), new _copyWebpackPlugin.default([{
  from: `${paths.assets}/icon/**/*.png`,
  to: `${paths.buildAssets}/icon/[1]`,
  test: /.*\/icon\/(.*)$/
}]), new _htmlWebpackPlugin.default({
  template: `${paths.src}/popup.html`,
  filename: 'popup.html',
  chunks: ['popup']
}), new _htmlWebpackPlugin.default({
  template: `${paths.src}/options.html`,
  filename: 'options.html',
  chunks: ['options']
}), new _htmlWebpackPlugin.default({
  template: `${paths.src}/background.html`,
  filename: 'background.html',
  chunks: ['background']
}), new _writeFileWebpackPlugin.default()];
options.resolve = {};
options.resolve.alias = {
  'universe': `${__dirname}/src/universe/`,
  'components': `${__dirname}/src/components/`
};
if (DEV_ENV) options.devtool = 'cheap-module-eval-source-map';

if (NODE_ENV !== 'generator') {
  options.resolve.mainFields = ['browser', 'main'];
}

const exclude = (0, _parseGitignore.default)((0, _fs.readFileSync)(paths.buildGitIgnore)).filter(path => path.startsWith('!')).map(path => path.substr(1));
options.plugins = [new _cleanWebpackPlugin.default([paths.build], {
  exclude
}), ...options.plugins];
module.exports = options;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy93ZWJwYWNrLmNvbmZpZy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiTk9ERV9FTlYiLCJIQVNISU5HX09VVFBVVF9MRU5HVEgiLCJwcm9jZXNzIiwiZW52IiwiREVWX0VOViIsInBhdGhzIiwic3JjIiwiX19kaXJuYW1lIiwiYnVpbGQiLCJidWlsZEFzc2V0cyIsImJ1aWxkR2l0SWdub3JlIiwic3JjTWFuaWZlc3QiLCJjb21wb25lbnRzIiwiYXNzZXRzIiwiYXNzZXRFeHRlbnNpb25zIiwib3B0aW9ucyIsIm1vZGUiLCJlbnRyeSIsImJhY2tncm91bmQiLCJwb3B1cCIsIm91dHB1dCIsInBhdGgiLCJmaWxlbmFtZSIsIm1vZHVsZSIsInJ1bGVzIiwidGVzdCIsImxvYWRlciIsImV4Y2x1ZGUiLCJSZWdFeHAiLCJqb2luIiwicGx1Z2lucyIsIndlYnBhY2siLCJEZWZpbmVQbHVnaW4iLCJKU09OIiwic3RyaW5naWZ5IiwiQ29weVdlYnBhY2tQbHVnaW4iLCJmcm9tIiwidHJhbnNmb3JtIiwiY29udGVudCIsIkJ1ZmZlciIsIm5hbWUiLCJwa2ciLCJkZXNjcmlwdGlvbiIsInZlcnNpb24iLCJwYXJzZSIsInRvU3RyaW5nIiwidG8iLCJIdG1sV2VicGFja1BsdWdpbiIsInRlbXBsYXRlIiwiY2h1bmtzIiwiV3JpdGVGaWxlV2VicGFja1BsdWdpbiIsInJlc29sdmUiLCJhbGlhcyIsImRldnRvb2wiLCJtYWluRmllbGRzIiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsIm1hcCIsInN1YnN0ciIsIkNsZWFuV2VicGFja1BsdWdpbiIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQSxNQUFNO0FBQUVDLEVBQUFBLFFBQUY7QUFBWUMsRUFBQUE7QUFBWixJQUFzQ0MsT0FB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UTtBQUdsQjJCLEVBQUFBLE1BQU0sRUFBRSxDQUFDLFlBQUQ7QUFIVSxDQUF0QixDQTNDYyxFQWlEZCxJQUFJQywrQkFBSixFQWpEYyxDQUFsQjtBQW9EQW5DLE9BQU8sQ0FBQ29DLE9BQVIsR0FBa0IsRUFBbEI7QUFLQXBDLE9BQU8sQ0FBQ29DLE9BQVIsQ0FBZ0JDLEtBQWhCLEdBQXdCO0FBQ3BCLGNBQWEsR0FBRTdDLFNBQVUsZ0JBREw7QUFFcEIsZ0JBQWUsR0FBRUEsU0FBVTtBQUZQLENBQXhCO0FBTUEsSUFBR0gsT0FBSCxFQUNJVyxPQUFPLENBQUNzQyxPQUFSLEdBQWtCLDhCQUFsQjs7QUFFSixJQUFHckQsUUFBUSxLQUFLLFdBQWhCLEVBQ0E7QUFFSWUsRUFBQUEsT0FBTyxDQUFDb0MsT0FBUixDQUFnQkcsVUFBaEIsR0FBNkIsQ0FBQyxTQUFELEVBQVksTUFBWixDQUE3QjtBQUNIOztBQUVELE1BQU0zQixPQUFPLEdBQUcsNkJBQWUsc0JBQWF0QixLQUFLLENBQUNLLGNBQW5CLENBQWYsRUFDWDZDLE1BRFcsQ0FDSmxDLElBQUksSUFBSUEsSUFBSSxDQUFDbUMsVUFBTCxDQUFnQixHQUFoQixDQURKLEVBRVhDLEdBRlcsQ0FFUHBDLElBQUksSUFBSUEsSUFBSSxDQUFDcUMsTUFBTCxDQUFZLENBQVosQ0FGRCxDQUFoQjtBQUtBM0MsT0FBTyxDQUFDZSxPQUFSLEdBQWtCLENBQ2QsSUFBSTZCLDJCQUFKLENBQXVCLENBQUN0RCxLQUFLLENBQUNHLEtBQVAsQ0FBdkIsRUFBc0M7QUFBRW1CLEVBQUFBO0FBQUYsQ0FBdEMsQ0FEYyxFQUVkLEdBQUdaLE9BQU8sQ0FBQ2UsT0FGRyxDQUFsQjtBQUtBUCxNQUFNLENBQUNxQyxPQUFQLEdBQWlCN0MsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAZmxvdyAqL1xuXG4vLyBmbG93LWRpc2FibGUtbGluZVxuaW1wb3J0IHBrZyBmcm9tICcuL3BhY2thZ2UnXG5pbXBvcnQgd2VicGFjayBmcm9tICd3ZWJwYWNrJ1xuaW1wb3J0IENsZWFuV2VicGFja1BsdWdpbiBmcm9tICdjbGVhbi13ZWJwYWNrLXBsdWdpbidcbmltcG9ydCBDb3B5V2VicGFja1BsdWdpbiBmcm9tICdjb3B5LXdlYnBhY2stcGx1Z2luJ1xuaW1wb3J0IEh0bWxXZWJwYWNrUGx1Z2luIGZyb20gJ2h0bWwtd2VicGFjay1wbHVnaW4nXG5pbXBvcnQgV3JpdGVGaWxlV2VicGFja1BsdWdpbiBmcm9tICd3cml0ZS1maWxlLXdlYnBhY2stcGx1Z2luJ1xuaW1wb3J0IHBhcnNlR2l0SWdub3JlIGZyb20gJ3BhcnNlLWdpdGlnbm9yZSdcbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJ1xuXG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuY29uc3QgeyBOT0RFX0VOViwgSEFTSElOR19PVVRQVVRfTEVOR1RIIH0gPSBwcm9jZXNzLmVudjtcbmNvbnN0IERFVl9FTlYgPSBOT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcblxuY29uc3QgcGF0aHMgPSB7fTtcblxucGF0aHMuc3JjID0gYCR7X19kaXJuYW1lfS9zcmNgO1xucGF0aHMuYnVpbGQgPSBgJHtfX2Rpcm5hbWV9L2J1aWxkYDtcbnBhdGhzLmJ1aWxkQXNzZXRzID0gYCR7cGF0aHMuYnVpbGR9L2Fzc2V0c2A7XG5wYXRocy5idWlsZEdpdElnbm9yZSA9IGAke3BhdGhzLmJ1aWxkfS8uZ2l0aWdub3JlYDtcbnBhdGhzLnNyY01hbmlmZXN0ID0gYCR7cGF0aHMuc3JjfS9tYW5pZmVzdC5qc29uYDtcbnBhdGhzLmNvbXBvbmVudHMgPSBgJHtwYXRocy5zcmN9L2NvbXBvbmVudHNgO1xucGF0aHMuYXNzZXRzID0gYCR7cGF0aHMuc3JjfS9hc3NldHNgO1xuY29uc3QgYXNzZXRFeHRlbnNpb25zID0gWydqcGcnLCAnanBlZycsICdwbmcnLCBgZ2lmYCwgXCJlb3RcIiwgJ290ZicsICdzdmcnLCAndHRmJywgJ3dvZmYnLCAnd29mZjInXTtcblxuLy8gKiBXZWJwYWNrIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuXG5jb25zdCBvcHRpb25zOiBPYmplY3QgPSB7fTtcblxub3B0aW9ucy5tb2RlID0gREVWX0VOViA/ICdkZXZlbG9wbWVudCcgOiAncHJvZHVjdGlvbic7XG5cbm9wdGlvbnMuZW50cnkgPSB7XG4gICAgYmFja2dyb3VuZDogYCR7cGF0aHMuY29tcG9uZW50c30vYmFja2dyb3VuZC9pbmRleC5qc2AsXG4gICAgb3B0aW9uczogYCR7cGF0aHMuY29tcG9uZW50c30vb3B0aW9ucy9pbmRleC5qc2AsXG4gICAgcG9wdXA6IGAke3BhdGhzLmNvbXBvbmVudHN9L3BvcHVwL2luZGV4LmpzYCxcbn07XG5cbm9wdGlvbnMub3V0cHV0ID0ge1xuICAgIHBhdGg6IHBhdGhzLmJ1aWxkLFxuICAgIGZpbGVuYW1lOiAnW25hbWVdLnBhY2tlZC5qcydcbn07XG5cbm9wdGlvbnMubW9kdWxlID0ge1xuICAgIHJ1bGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlc3Q6IC9cXC5jc3MkLyxcbiAgICAgICAgICAgIGxvYWRlcjogJ3N0eWxlLWxvYWRlciFjc3MtbG9hZGVyJyxcbiAgICAgICAgICAgIGV4Y2x1ZGU6IC9ub2RlX21vZHVsZXMvXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlc3Q6IG5ldyBSZWdFeHAoYFxcXFwuKCR7YXNzZXRFeHRlbnNpb25zLmpvaW4oJ3wnKX0pJGApLFxuICAgICAgICAgICAgbG9hZGVyOiAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0nLFxuICAgICAgICAgICAgZXhjbHVkZTogL25vZGVfbW9kdWxlcy9cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdGVzdDogL1xcLmh0bWwkLyxcbiAgICAgICAgICAgIGxvYWRlcjogJ2h0bWwtbG9hZGVyJyxcbiAgICAgICAgICAgIGV4Y2x1ZGU6IC9ub2RlX21vZHVsZXMvXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlc3Q6IC9cXC5qcyQvLFxuICAgICAgICAgICAgbG9hZGVyOiAnYmFiZWwtbG9hZGVyP2NhY2hlRGlyZWN0b3J5JyxcbiAgICAgICAgICAgIGV4Y2x1ZGU6IC9ub2RlX21vZHVsZXMvXG4gICAgICAgIH1cbiAgICBdXG59O1xuXG5vcHRpb25zLnBsdWdpbnMgPSBbXG4gICAgLy8gPyBDbGVhbiBwYXRocy5idWlsZCAoc2VlIGJlbG93KVxuICAgIC8vIG5ldyBDbGVhbldlYnBhY2tQbHVnaW4oWydidWlsZCddKSxcblxuICAgIC8vID8gRXhwb3NlIGRlc2lyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGluIHRoZSBwYWNrZWQgYnVuZGxlXG4gICAgbmV3IHdlYnBhY2suRGVmaW5lUGx1Z2luKHtcbiAgICAgICAgJ3Byb2Nlc3MuZW52Jzoge1xuICAgICAgICAgICAgTk9ERV9FTlY6IEpTT04uc3RyaW5naWZ5KE5PREVfRU5WKSxcbiAgICAgICAgICAgIEhBU0hJTkdfT1VUUFVUX0xFTkdUSDogSlNPTi5zdHJpbmdpZnkoSEFTSElOR19PVVRQVVRfTEVOR1RIKSxcbiAgICAgICAgfSxcbiAgICB9KSxcblxuICAgIG5ldyBDb3B5V2VicGFja1BsdWdpbihbe1xuICAgICAgICBmcm9tOiBwYXRocy5zcmNNYW5pZmVzdCxcblxuICAgICAgICAvLyA/IEdlbmVyYXRlcyBvdXIgbWFuaWZlc3QgZmlsZSB1c2luZyBpbmZvIGZyb20gcGFja2FnZS5qc29uXG4gICAgICAgIHRyYW5zZm9ybTogY29udGVudCA9PiBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBuYW1lOiBgJHtERVZfRU5WID8gXCJERVYtXCIgOiAnJ30ke3BrZy5uYW1lfWAsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcGtnLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgdmVyc2lvbjogcGtnLnZlcnNpb24sXG4gICAgICAgICAgICAnY29udGVudF9zZWN1cml0eV9wb2xpY3knOiBgc2NyaXB0LXNyYyAnc2VsZicke0RFVl9FTlYgPyBcIiAndW5zYWZlLWV2YWwnXCIgOiAnJ307IG9iamVjdC1zcmMgJ3NlbGYnYCxcbiAgICAgICAgICAgIC4uLkpTT04ucGFyc2UoY29udGVudC50b1N0cmluZygpKVxuICAgICAgICB9KSlcbiAgICB9XSksXG5cbiAgICBuZXcgQ29weVdlYnBhY2tQbHVnaW4oW3tcbiAgICAgICAgZnJvbTogYCR7cGF0aHMuYXNzZXRzfS9pY29uLyoqLyoucG5nYCxcbiAgICAgICAgdG86IGAke3BhdGhzLmJ1aWxkQXNzZXRzfS9pY29uL1sxXWAsXG4gICAgICAgIHRlc3Q6IC8uKlxcL2ljb25cXC8oLiopJC9cbiAgICB9XSksXG5cbiAgICBuZXcgSHRtbFdlYnBhY2tQbHVnaW4oe1xuICAgICAgICB0ZW1wbGF0ZTogYCR7cGF0aHMuc3JjfS9wb3B1cC5odG1sYCxcbiAgICAgICAgZmlsZW5hbWU6ICdwb3B1cC5odG1sJyxcbiAgICAgICAgY2h1bmtzOiBbJ3BvcHVwJ11cbiAgICB9KSxcblxuICAgIG5ldyBIdG1sV2VicGFja1BsdWdpbih7XG4gICAgICAgIHRlbXBsYXRlOiBgJHtwYXRocy5zcmN9L29wdGlvbnMuaHRtbGAsXG4gICAgICAgIGZpbGVuYW1lOiAnb3B0aW9ucy5odG1sJyxcbiAgICAgICAgY2h1bmtzOiBbJ29wdGlvbnMnXVxuICAgIH0pLFxuXG4gICAgbmV3IEh0bWxXZWJwYWNrUGx1Z2luKHtcbiAgICAgICAgdGVtcGxhdGU6IGAke3BhdGhzLnNyY30vYmFja2dyb3VuZC5odG1sYCxcbiAgICAgICAgZmlsZW5hbWU6ICdiYWNrZ3JvdW5kLmh0bWwnLFxuICAgICAgICBjaHVua3M6IFsnYmFja2dyb3VuZCddXG4gICAgfSksXG5cbiAgICBuZXcgV3JpdGVGaWxlV2VicGFja1BsdWdpbigpXG5dO1xuXG5vcHRpb25zLnJlc29sdmUgPSB7fTtcblxuLy8gPyBUaGVzZSBhcmUgYWxpYXNlcyB0aGF0IGNhbiBiZSB1c2VkIGR1cmluZyBKUyBpbXBvcnQgY2FsbHNcbi8vICEgTm90ZSB0aGF0IHlvdSBtdXN0IGFsc28gY2hhbmdlIHRoZXNlIHNhbWUgYWxpYXNlcyBpbiAuZmxvd2NvbmZpZ1xuLy8gISBOb3RlIHRoYXQgeW91IG11c3QgYWxzbyBjaGFuZ2UgdGhlc2Ugc2FtZSBhbGlhc2VzIGluIHBhY2thZ2UuanNvbiAoamVzdClcbm9wdGlvbnMucmVzb2x2ZS5hbGlhcyA9IHtcbiAgICAndW5pdmVyc2UnOiBgJHtfX2Rpcm5hbWV9L3NyYy91bml2ZXJzZS9gLFxuICAgICdjb21wb25lbnRzJzogYCR7X19kaXJuYW1lfS9zcmMvY29tcG9uZW50cy9gLFxufTtcblxuLy8gPyBTZWU6IGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uZmlndXJhdGlvbi9kZXZ0b29sXG5pZihERVZfRU5WKVxuICAgIG9wdGlvbnMuZGV2dG9vbCA9ICdjaGVhcC1tb2R1bGUtZXZhbC1zb3VyY2UtbWFwJztcblxuaWYoTk9ERV9FTlYgIT09ICdnZW5lcmF0b3InKVxue1xuICAgIC8vID8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vaXBmcy9qcy1pcGZzLWFwaS9wdWxsLzc3N1xuICAgIG9wdGlvbnMucmVzb2x2ZS5tYWluRmllbGRzID0gWydicm93c2VyJywgJ21haW4nXTtcbn1cblxuY29uc3QgZXhjbHVkZSA9IHBhcnNlR2l0SWdub3JlKHJlYWRGaWxlU3luYyhwYXRocy5idWlsZEdpdElnbm9yZSkpXG4gICAgLmZpbHRlcihwYXRoID0+IHBhdGguc3RhcnRzV2l0aCgnIScpKVxuICAgIC5tYXAocGF0aCA9PiBwYXRoLnN1YnN0cigxKSk7XG5cbi8vID8gVGhpcyBmb2xsb3dpbmcgaXMgbmVjZXNzYXJ5IHNvIENsZWFuV2VicGFja1BsdWdpbiBkb2Vzbid0IGtpbGwgYnVpbGQvLmdpdGlnbm9yZVxub3B0aW9ucy5wbHVnaW5zID0gW1xuICAgIG5ldyBDbGVhbldlYnBhY2tQbHVnaW4oW3BhdGhzLmJ1aWxkXSwgeyBleGNsdWRlIH0pLFxuICAgIC4uLm9wdGlvbnMucGx1Z2luc1xuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBvcHRpb25zO1xuIl19